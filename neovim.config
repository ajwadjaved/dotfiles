let mapleader = " "
set clipboard=unnamedplus
set splitright
set splitbelow
set ignorecase
set smartcase
set incsearch

" --- PLUGINS ---
call plug#begin()
    Plug 'catppuccin/nvim', { 'as': 'catppuccin' }
    Plug 'neoclide/coc.nvim', {'branch': 'release'}
    Plug 'leafgarland/typescript-vim'
    Plug 'peitalin/vim-jsx-typescript'
call plug#end()

" --- GENERAL SETTINGS ---
set number
set mouse=a
set tabstop=4
set shiftwidth=4
set expandtab

" --- THEME LOADING ---
if (has("termguicolors"))
  set termguicolors
endif
silent! colorscheme catppuccin-mocha

" --- KEYBINDINGS ---
nmap <leader>r <Plug>(coc-rename)
nmap <leader>g <Plug>(coc-references)

nnoremap <leader>t :15split \| terminal<CR>
nnoremap <leader>v :vsplit<CR>
nnoremap <leader>h :split<CR>
nnoremap <leader>q :q<CR>

" Line Movement
nnoremap <leader>j :m .+1<CR>==
nnoremap <leader>k :m .-2<CR>==
vnoremap <leader>j :m '>+1<CR>gv=gv
vnoremap <leader>k :m '<-2<CR>gv=gv

" --- WINDOW NAVIGATION (Ctrl + hjkl) ---
" Use Ctrl + hjkl to jump between splits instantly
nnoremap <C-h> <C-w>h
nnoremap <C-j> <C-w>j
nnoremap <C-k> <C-w>k
nnoremap <C-l> <C-w>l

" --- WINDOW RESIZING (Arrow Keys) ---
" Use Ctrl + Arrows to resize the active pane
nnoremap <C-Up>    :resize +2<CR>
nnoremap <C-Down>  :resize -2<CR>
nnoremap <C-Left>  :vertical resize -2<CR>
nnoremap <C-Right> :vertical resize +2<CR>

" Escape hatch for terminal mode
tnoremap <Esc> <C-\><C-n>

autocmd BufWritePre *.ts,*.tsx,*.js,*.jsx silent! call CocAction('format')
